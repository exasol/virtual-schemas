language: java

# Setting sudo to false will cause Travis to use Containers.
# To use Docker's privileged mode, we need to enable sudo.
sudo: required

services:
  - docker

matrix:
  include:
    - jdk: "oraclejdk8"


addons:
  sonarcloud:
    organization: exasol
    token:
      secure: "NBMZYcD4AlMeI/80dRX0FSlqgnKgRjR/7bygegYj5bXSlMMMLLnbVtKKx9nLZKr2ZY1vcmn048kt9R8SNckmhuXCxQpUsxRo/U8TrnWAiqGv0yC8U4eFbBJ76m58WbNWHXaFw9P2MVfp7Gd5050lrlNbTBYaERlo6eRTRBpsDm5eNLHpsuQzgKchWS7syi6vyvLPp/YwQsaKz48aKh3EI6m7Z1FF/JSSpmxkMNlT7NbI9hhsJnqt5/V8Aa/2K8cdskorrkOhLyd8+vuIvK6cXrCysFTrDnavWD12r3rWgh07qDFcFbItnOpM8PmMWfnkNhbrSl9tOYaoffKAOyk/UGkI+5B/AkWskpkXSR/l0WEenWAIRoJ3DpQFrkAI1eRLL8U0E9wDZVNnLnTLHQ3AX63+a9ubuZUqf5Ccqu2cU+nhPAuyYyfFpQACywIR7cNgtT1Eas/OzUVjTBg+aDTPKzC/96fY5C15gut1FL365w50G8eJB9jOYsxjyVR/eHaycmrciJsipXrJ19L5NXPNrqqO+x2hSFhFLUkxMqWoE4LzmHsbM1JJ085Hn5flDQNJ1JQYbmsPxA++oCEnmnMtxrPWkDKnmm5/1VXs3i5UZHuw7m6It6lQvMGBj+3r2oa6WKMYAzZt6JPZuCvnubR0HJx9NYzPAZqVJDlq20YQLiY="


before_script: ./jdbc-adapter/tools/version.sh verify

script:
  - ./jdbc-adapter/integration-test-data/run_integration_tests.sh
  - cd  jdbc-adapter
  - mvn clean org.jacoco:jacoco-maven-plugin:prepare-agent install sonar:sonar
